/**
 * Auto-generated fetch helpers
 * Generated by @udl/codegen
 * DO NOT EDIT MANUALLY
 */

import type { Todo } from '../types/index.js';
import { graphqlFetch } from 'universal-data-layer/client';

/**
 * Fetch all Todo nodes.
 * @returns Promise resolving to array of Todo
 */
export async function getAllTodos(): Promise<Todo[]> {
  const data = await graphqlFetch<{ allTodo: Todo[] }>(
    `{ allTodo { externalId userId title completed internal { id type owner } } }`
  );
  return data.allTodo;
}

/**
 * Fetch a Todo by its internal ID.
 * @param id - The internal ID of the Todo
 * @returns Promise resolving to Todo or null if not found
 */
export async function getTodoById(id: string): Promise<Todo | null> {
  const data = await graphqlFetch<{ todo: Todo | null }>(
    `query GetTodoById($id: ID!) { todo(id: $id) { externalId userId title completed internal { id type owner } } }`,
    { id }
  );
  return data.todo;
}

/**
 * Fetch a Todo by its userId.
 * @param userId - The userId to search for
 * @returns Promise resolving to Todo or null if not found
 */
export async function getTodoByUserId(userId: number): Promise<Todo | null> {
  const data = await graphqlFetch<{ todoByUserId: Todo | null }>(
    `query GetTodoByUserId($userId: Float!) { todoByUserId(userId: $userId) { externalId userId title completed internal { id type owner } } }`,
    { userId }
  );
  return data.todoByUserId;
}
